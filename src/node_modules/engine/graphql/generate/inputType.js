import _                    from 'lodash'
import typeMap              from '../typeMap'

export default function generateInputType(payload) {
  const { name, fieldList } = payload
  const inputTypeName = `Input${ _.upperFirst(name) }`
  return [
    `input ${ inputTypeName } {`,
    fieldList.map(({ name, type }) => {
      if (!typeMap[type]) {
        const fieldName = `${ _.lowerFirst(name) }Id`
        return [
          `  ${ fieldName }: ID`,
        ].join('\n')
      }

      return `  ${ name }: ${ typeMap[type] }`
    }).join(`\n`),
    `}`,
  ].join('\n')
}
