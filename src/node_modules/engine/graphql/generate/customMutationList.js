import _                    from 'lodash'

import generateArgStringCustom from './argStringCustom'
import typeMap              from '../typeMap'

export default function generateCustomMutationList(payload) {
  const { mutationMap, name } = payload
  return _.values(
    _.mapValues(mutationMap, (doc, apiName) => {
      const { inputList, output } = doc
      const funcName = `${ name }${ _.upperFirst(apiName) }`

      const argString = generateArgStringCustom({ fieldList: inputList })
      const callString = argString.length ?  `(${ argString })` : ``

      const outputType = typeMap[output] ? output : _.upperFirst(output)
      return `  ${ funcName }${ callString }: ${ outputType }`
    })
  )
}
