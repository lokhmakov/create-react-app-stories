import gql                  from 'graphql-tag'

import generateVarString    from 'engine/graphql/generate/varString'
import generateCallString   from 'engine/graphql/generate/callString'

export default function generateQueryDelete(payload) {
  const { name, fieldList } = payload
  const query = `mutation ${ name }Delete(
${ generateVarString({ fieldList: fieldList.slice(0, 1) }) }
  ) {
      ${ name }Delete (
      where: {
${ generateCallString({ fieldList: fieldList.slice(0, 1) }) }
  }
      ) {
    result
    errors {
      code
      message
    }    
  }
}`

  return gql`${ query }`
}
