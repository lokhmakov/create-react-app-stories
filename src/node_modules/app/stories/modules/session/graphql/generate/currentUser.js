import { graphql }          from 'react-apollo'

import generateQueryCurrentUser from './query/currentUser'

export default ({ config, debug, methods }) => (payload) => {
  const { options = {} } = payload || {}
  return graphql(generateQueryCurrentUser(config), {
    options,
    props: ({ data }) => {
      // debug(`graphql.currentUser.query()`, `RESULT`)

      const { sessionCurrentUser } = data

      return {
        sessionCurrentUser
      }
    },
  })}

