import { graphql }          from 'react-apollo'

import generateQueryLogout  from './query/logout'

export default ({ config, debug, methods }) => () => {
  const updateQueries = {
    sessionCurrentUser: () => {
      return { sessionCurrentUser: null }
    }
  }

  return graphql(generateQueryLogout(config), {
    props: ({ mutate }) => ({
      sessionLogout: (variables) => {
        return mutate({
          variables,
          updateQueries,
        })
      }
    })
  })
}
