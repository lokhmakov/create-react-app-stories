import types                 from 'engine/types'

import subsystemConfig       from '../../config'

const name = require(`./package.json`).name

export default {
  name,

  tokenName: `SESSION_${ subsystemConfig.name }`,

  fieldList: [
    {
      name: `id`,
      type: types.ID,
      primaryKey: true,
    },
    {
      name: `user`,
      type: `user`,
    },
  ],

  queryMap: {
    currentUser: {
      inputList: [
      ],
      output: `user`
    },
  },

  mutationMap: {
    login: {
      inputList: [
        {
          name: `username`,
          type: types.String,
        },
        {
          name: `password`,
          type: types.String,
        }
      ],
      output: `SessionCreate`,
    },

    logout: {
      inputList: [
        {
          name: `sessionId`,
          type: types.String,
        }
      ],
      output: types.Boolean,
    },

    signup: {
      inputList: [
        {
          name: `username`,
          type: types.String,
        },
        {
          name: `captchaValue`,
          type: types.String,
        },
        {
          name: `captchaText`,
          type: types.String,
        },
      ],
      output: types.Boolean,
    },
  }
}
