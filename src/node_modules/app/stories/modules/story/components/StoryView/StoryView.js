import React, { Component } from 'react'

import { Container }        from 'semantic-ui-react'
import { Header }          from 'semantic-ui-react'


import s                    from './StoryView.css'

// import createDebugger       from 'engine/debug'
// const debug = createDebugger(require(`./package.json`).name)

class StoryView extends Component {
  static contextTypes = {
    // translate: PropTypes.func.isRequired,
  }

  renderLines(payload) {
    const { storyLineList = [] } = payload

    // debug(`renderLines()`, storyLineList)

    return storyLineList.map(storyLineDoc => {
      const { id, value } = storyLineDoc
      return (
        <Header key={ id }>{ value }</Header>
      )
    })
  }

  render() {
    const { id, data } = this.props

    const storyDoc = data[id] || {}
    const { name, storyLineList } = storyDoc

    return (
      <Container>
        <Header size='huge'>{ name }</Header>
        { this.renderLines({ storyLineList }) }
      </Container>
    )
  }
}

import withStyles           from 'isomorphic-style-loader/lib/withStyles'
import { compose }          from 'redux'

export default compose(
  withStyles(s),
)(StoryView)
