import types                 from 'engine/types'

const name = require(`./package.json`).name

const fieldList =[
  {
    name: `id`,
    type: types.ID,
    primaryKey: true,
  },

  {
    name: `name`,
    type: types.String,
  },

  {
    name: `author`,
    type: `user`,
    allowNull: false,
  },
]

export default {
  name,

  fieldList,

  extraFieldList: [
    {
      name: `storyLineList`,
      type: `[StoryLine]`,
    },
  ],

  mutationMap: {
    createWithLines: {
      inputList: [
        ...fieldList.slice(1),
        {
          name: `storyLineList`,
          typeForce: `[InputStoryLine]`,
        },
      ],
      output: `StoryCreate`,
    },
  },
}
