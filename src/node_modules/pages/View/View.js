import React                from 'react'

import { Helmet }           from 'react-helmet'

import { Grid }             from 'semantic-ui-react'
import { Segment }          from 'semantic-ui-react'


import StoryView            from 'app/stories/modules/story/components/StoryView'

import s                    from './View.css'

const View = ({ id, title, storyData }) => {
  return (
    <div className={ s.root }>
      <Helmet>
        <title>{ title }</title>
      </Helmet>

      <Segment
        className={ s.sectionContent }
        vertical
      >
        <Grid
          container
          stackable
        >
          <Grid.Row>
            <Grid.Column widescreen={ 16 }>
              <StoryView
                id={ id }
                data={ storyData }
              />
            </Grid.Column>
          </Grid.Row>
        </Grid>
      </Segment>
    </div>
  )
}

import { compose }          from 'redux'

import withStoryData        from 'app/stories/modules/story/graphql/data'
import withStyles           from 'isomorphic-style-loader/lib/withStyles'

export default compose(
  withStoryData({
    options: (ownProps) => {
      const { id } = ownProps
      return {
        variables: { where: { id }}
      }
    },

    extraResult: `storyLineList { id value }`
  }),

  withStyles(s),
)(View)
